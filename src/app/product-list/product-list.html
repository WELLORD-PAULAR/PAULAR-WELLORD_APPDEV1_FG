<div class="container py-4">
	<h2 class="text-center mb-4">Our Liquor Selection</h2>
	<div class="row justify-content-center">
		<div class="bg-light py-3 border-bottom mb-4">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-12 col-md-8 col-lg-6">
						<input
							type="text"
							class="form-control form-control-lg"
							placeholder="Search for a product..."
							[value]="searchTerm()"
							(input)="searchTerm.set($any($event.target).value)"
							aria-label="Search products"
						/>
						</div>

						<!-- Mini Checkout Summary -->
						<div class="container mt-5">
							<div class="card shadow-sm">
								<div class="card-header bg-primary text-white">
									<h5 class="mb-0">Mini Checkout</h5>
								</div>
								<div class="card-body">
									@if (cartItems().length > 0) {
										<ul class="list-group mb-3">
											@for (item of cartItems(); track item.name) {
												<li class="list-group-item d-flex justify-content-between align-items-center">
													<span>{{ item.name }} <span class="badge bg-secondary ms-2">x{{ item.quantity }}</span></span>
													<span>${{ (item.price * item.quantity).toFixed(2) }}</span>
												</li>
											}
										</ul>
										<div class="d-flex justify-content-between align-items-center">
											<strong>Total:</strong>
											<span class="fs-5 text-success">${{ cartTotal().toFixed(2) }}</span>
										</div>
									} @else {
										<div class="alert alert-info text-center mb-0">Your cart is empty.</div>
									}
								</div>
							</div>
						</div>
					</div>
			</div>
		</div>
		@for (product of filteredProducts(); track product.name) {
			<div class="col-12 col-md-6 col-lg-4 mb-4">
				<div class="card h-100 shadow-sm border-primary">
					<div class="card-body text-center">
						<h5 class="card-title fw-bold">{{ product.name }}</h5>
						<p class="card-text mb-2">Price: <span class="fw-semibold">${{ product.price.toFixed(2) }}</span></p>
						<p class="card-text mb-3">
							<span class="badge bg-success" *ngIf="product.stock > 0">In Stock: {{ product.stock }}</span>
							<span class="badge bg-danger" *ngIf="product.stock === 0">Out of Stock</span>
						</p>
									@if (product.stock > 0) {
										<button class="btn btn-primary w-100" (click)="addToCart(product)">Add to Cart</button>
									} @else {
										<button class="btn btn-secondary w-100" disabled>Out of Stock</button>
									}
					</div>
				</div>
			</div>
		}
	</div>
	</div>
